# ğŸ§  System Architecture - Employee Manager (C++)

This document describes the internal architecture and design decisions for the Employee Manager system implemented in C++. It explains the key data structures, component responsibilities, and data flow within the system.

---

## ğŸ“š Overview

The system manages employees and companies with operations such as hiring, promoting, salary updates, and merging companies. It is designed for efficiency using:

- Global and company-level hash tables
- Rank trees for salary-based operations
- Union-Find structure for managing company mergers
- Encapsulated data models for employees and salary-based keys

---

## ğŸ”§ Core Components

### 1. EmployeeManager

Acts as the central controller for all operations. It contains:

- `employeeHash`: HashTable for all employees (global)
- `employeesTree`: RankTree for employees with salary > 0
- `Companies`: Union-Find structure managing company groups
- `companies_arr`: Array of `ArrData` pointers, one for each company

---

## ğŸ—ï¸ Data Structure Visualization

```plaintext
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   EmployeeManager  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ employeeHash  â”‚     â”‚ Companies (UF) â”‚     â”‚    Companies_arr   â”‚
â”‚ Global Hash   â”‚     â”‚ Union-Find DS  â”‚     â”‚   Array of k items â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
         â”‚                                         â”‚ ArrData â”‚
         â–¼                                         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ EmployeeData  â”‚               â”‚ employeesHashâ”‚   â”‚ employeesTree â”‚
  â”‚ ID, Salary,   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   (per comp) â”‚   â”‚  (salary>0)   â”‚
  â”‚ Grade         â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



ğŸ§± Class Breakdown
ğŸ”¹ ArrData
Describes per-company data structure.

employees_hash_arr: HashTable<EmployeeData>

employees_tree_arr: RankTree<EKeyBySalary, IntObject>

sum_grades_arr: Total grade for all employees

employees_with_zero_salary_arr: Count of zero-salary employees

ğŸ”¹ EmployeeData
employeeId

salary

grade

ğŸ”¹ EKeyBySalary
Used as the key in rank trees for sorting:

salary

employeeId (secondary key)

ğŸ” Operation Flow Examples
â• AddEmployee
Check if employee exists.

Insert to global hash.

Add to company hash table.

If salary > 0 â†’ add to both global and local salary trees.

Update grade sum and salary counters.

ğŸ”„ PromoteEmployee
Locate employee from hash.

If salary > 0, update in both trees.

Update grade values accordingly.

ğŸ”€ Merge Companies
Union-Find to group companies.

Merge employee trees (sorted).

Merge hash tables and metadata.

ğŸ“Š Average Grade By Salary Range
Use two boundary nodes in tree.

Traverse and calculate total grades.

Divide by range length.

â±ï¸ Time & Space Complexity
Time Complexity (most ops): O(log*k + log n)

Space Complexity: O(n + k) where:

n = number of employees

k = number of companies

ğŸ§¹ Clean-Up
Quit() method deletes:

Union-Find structure

Global trees

All company-level trees and hashes

ğŸ‘¨â€ğŸ’» Authors
Ahmad Khader â€” 209113018

Mohammed Bisher â€” 207723040
